---
- name: install pexpect
  become: yes
  easy_install:
    name: pexpect
    state: latest

- name: Download the home brew install script
  get_url:
    url: https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh
    dest: "{{ home_path }}Downloads/homebrew-install.sh"
    mode: +x

- name: run oh my zsh install script
  expect:
    command: "{{ home_path }}Downloads/homebrew-install.sh"
    responses:
      (?i)Password: ""
    timeout: 10
    echo: yes

- name: remove file
  file:
    path:  "{{ home_path }}Downloads/homebrew-install.sh"
    state: absent


